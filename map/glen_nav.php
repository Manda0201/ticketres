<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Fit to the bounds of a LineString</title>
<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
<link href="https://api.mapbox.com/mapbox-gl-js/v2.12.0/mapbox-gl.css" rel="stylesheet">
<script src="https://api.mapbox.com/mapbox-gl-js/v2.12.0/mapbox-gl.js"></script>
<style>
body { margin: 0; padding: 0; }
#map { position: absolute; top: 0; bottom: 0; width: 100%; }
</style>
</head>
<body>
<style>
      .marker {
        display: block;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        padding: 0;
    }

    .btn-control {
        font: bold 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;
        background-color: #3386c0;
        color: #fff;
        position: absolute;
        top: 20px;
        left: 50%;
        z-index: 1;
        border: none;
        width: 200px;
        margin-left: -100px;
        display: block;
        cursor: pointer;
        padding: 10px 20px;
        border-radius: 3px;
    }

    .btn-control:hover {
        background-color: #4ea0da;
    }
</style>
<div id="map"></div>
<button id="zoomto" class="btn-control">Zoom to bounds</button>

<script>
	mapboxgl.accessToken = 'pk.eyJ1IjoibGVlcm95a3UiLCJhIjoiY2w1MTFhYzdrMDFiMzNrbXk1bHFucXNlayJ9.c61PVNZdqDVISnFcUrflFQ';
    // A GeoJSON object with a LineString route from the White House to Capitol Hill
    const geojson = {
        'type': 'FeatureCollection',
        'features': [
            {
                'type': 'Feature',
                'geometry': {
                    'type': 'LineString',
                    'properties': {},
                    'coordinates': [
                        [31.05193,-17.83413],
          [31.05246,-17.83403],
          [31.05254,-17.8344],
          [31.05255,-17.83442],
          [31.05201,-17.83456],
          [31.05158,-17.83467],
          [31.05128,-17.83474],
          [31.05057,-17.83493],
          [31.04965,-17.83514],
          [31.04951,-17.83517],
          [31.04881,-17.83533],
          [31.04872,-17.83535],
          [31.04744,-17.83579],
          [31.04744,-17.8358],
          [31.04691,-17.83605],
          [31.0469,-17.83607],
          [31.04689,-17.83609],
          [31.04687,-17.83611],
          [31.04674,-17.83616],
          [31.04647,-17.83623],
          [31.04627,-17.83629],
          [31.04588,-17.8364],
          [31.04568,-17.83646],
          [31.04561,-17.83649],
          [31.04554,-17.83655],
          [31.04545,-17.83663],
          [31.04539,-17.83668],
          [31.04506,-17.83698],
          [31.04503,-17.83701],
          [31.045,-17.83702],
          [31.04457,-17.83743],
          [31.04456,-17.83744],
          [31.04429,-17.83773],
          [31.04419,-17.83782],
          [31.04411,-17.83788],
          [31.04378,-17.83817],
          [31.04357,-17.83838],
          [31.0432,-17.83874],
          [31.04321,-17.83878],
          [31.04322,-17.83883],
          [31.04323,-17.8389],
          [31.04323,-17.83897],
          [31.04322,-17.83909],
          [31.04315,-17.83958],
          [31.04311,-17.8401],
          [31.04309,-17.84066],
          [31.04306,-17.84157],
          [31.04305,-17.84172],
          [31.04305,-17.84193],
          [31.04302,-17.84212],
          [31.04294,-17.84234],
          [31.04281,-17.84261],
          [31.04262,-17.84301],
          [31.04249,-17.84327],
          [31.04239,-17.84341],
          [31.04231,-17.84348],
          [31.04226,-17.84353],
          [31.04207,-17.84369],
          [31.04176,-17.84385],
          [31.04088,-17.84432],
          [31.04087,-17.84433],
          [31.04029,-17.84462],
          [31.04008,-17.84473],
          [31.03977,-17.84488],
          [31.0396,-17.84495],
          [31.03927,-17.84508],
          [31.039,-17.84518],
          [31.03877,-17.84526],
          [31.03841,-17.84539],
          [31.03814,-17.84549],
          [31.03801,-17.84554],
          [31.03797,-17.84556],
          [31.03796,-17.84556],
          [31.03773,-17.84565],
          [31.0373,-17.84576],
          [31.03704,-17.8458],
          [31.03692,-17.84583],
          [31.03686,-17.84584],
          [31.03674,-17.84586],
          [31.03669,-17.84588],
          [31.03632,-17.84593],
          [31.0361,-17.84596],
          [31.03604,-17.84597],
          [31.03572,-17.84607],
          [31.03499,-17.84634],
          [31.03479,-17.8464],
          [31.03388,-17.84671],
          [31.032,-17.84741],
          [31.03179,-17.84748],
          [31.0313,-17.84765],
          [31.03065,-17.84787],
          [31.03054,-17.8479],
          [31.02999,-17.84809],
          [31.02929,-17.84833],
          [31.02924,-17.84834],
          [31.02843,-17.84863],
          [31.02766,-17.84892],
          [31.02717,-17.84909],
          [31.02696,-17.84917],
          [31.02582,-17.84957],
          [31.02474,-17.84992],
          [31.02507,-17.85072],
          [31.02508,-17.85078],
          [31.02512,-17.85091],
          [31.02543,-17.85171],
          [31.02552,-17.85195],
          [31.02592,-17.85292],
          [31.02594,-17.85292],
          [31.02611,-17.85335],
          [31.02624,-17.85366],
          [31.02627,-17.85373],
          [31.0263,-17.85382],
          [31.02636,-17.85391],
          [31.02635,-17.85391],
          [31.02634,-17.85394],
          [31.02576,-17.8549],
          [31.02545,-17.8554],
          [31.02485,-17.85634],
          [31.02421,-17.85737],
          [31.02409,-17.8575],
          [31.02359,-17.85806],
          [31.02326,-17.85842],
          [31.02259,-17.85913],
          [31.02203,-17.85973],
          [31.02196,-17.8598],
         [31.0219,-17.85986],
          [31.02186,-17.8599],
          [31.02104,-17.86075],
          [31.02082,-17.86098],
          [31.01945,-17.86234],
          [31.01937,-17.86243],
          [31.01828,-17.86342],
          [31.01825,-17.86345],
          [31.0182,-17.86349],
          [31.01782,-17.86385],
          [31.01719,-17.86445],
          [31.01677,-17.86484],
          [31.0164,-17.86519],
          [31.01599,-17.86558],
          [31.01423,-17.86722],
          [31.01411,-17.86732],
          [31.0141,-17.86733],
          [31.01319,-17.86825],
          [31.01294,-17.86848],
          [31.01222,-17.86915],
          [31.01212,-17.86926],
          [31.01145,-17.86989],
          [31.01142,-17.86991],
          [31.01105,-17.87027],
          [31.01059,-17.87072],
          [31.01032,-17.87099],
          [31.00974,-17.87152],
          [31.00964,-17.87161],
          [31.00879,-17.87239],
          [31.00842,-17.87274],
          [31.00811,-17.87305],
          [31.0078,-17.87336],
          [31.00772,-17.87342],
          [31.00771,-17.87347],
          [31.0077,-17.87349],
          [31.00769,-17.87352],
          [31.00767,-17.87357],
          [31.00763,-17.87365],
          [31.00758,-17.8738],
          [31.00756,-17.87384],
          [31.00751,-17.87401],
          [31.00756,-17.87419],
          [31.00752,-17.87415],
          [31.00746,-17.87408],
          [31.00739,-17.87401],
          [31.00735,-17.87399],
          [31.00728,-17.87395],
          [31.00722,-17.87393],
          [31.00706,-17.8739],
          [31.00688,-17.8739],
          [31.00656,-17.8739],
          [31.00644,-17.8739],
          [31.00635,-17.87386],
          [31.00595,-17.87388],
          [31.00568,-17.87389],
          [31.0051,-17.87391],
         [31.00455,-17.87393],
          [31.00342,-17.87397],
          [31.00311,-17.87398],
          [31.00256,-17.874],
          [31.00134,-17.87405],
          [31.00034,-17.87409],
          [30.99984,-17.87412],
          [30.9989,-17.87416],
          [30.99796,-17.8742],
          [30.99777,-17.8742],
          [30.99695,-17.87423],
          [30.99589,-17.87427],
          [30.99482,-17.87431],
          [30.99469,-17.87431],
          [30.99324,-17.87437],
          [30.99233,-17.8744],
          [30.99209,-17.87441],
          [30.99077,-17.87447],
          [30.98931,-17.87452],
          [30.98821,-17.87457],
          [30.98679,-17.87464],
          [30.98467,-17.87473],
          [30.98416,-17.87474],
          [30.98326,-17.87476],
          [30.98162,-17.87481],
          [30.97832,-17.87495],
          [30.97734,-17.87501],
          [30.97609,-17.87509],
          [30.97552,-17.87511],
          [30.97473,-17.87514],
          [30.97472,-17.87514],
          [30.97466,-17.87514],
          [30.97315,-17.87519],
          [30.97224,-17.87522],
          [30.9708,-17.87526],
          [30.97003,-17.87528],
          [30.96983,-17.87529],
          [30.96823,-17.87534],
          [30.96804,-17.87534],
          [30.96738,-17.87537],
          [30.96678,-17.8754],
          [30.96572,-17.87543],
          [30.96446,-17.87549],
          [30.9641,-17.8755],
          [30.96406,-17.8755],
          [30.96374,-17.87552],
          [30.96313,-17.87561],
          [30.96299,-17.87563],
          [30.96236,-17.8758],
          [30.96162,-17.87601],
          [30.96081,-17.87629],
          [30.96069,-17.87634],
          [30.96008,-17.87655],
          [30.9599,-17.87661],
          [30.95988,-17.87662],
          [30.95904,-17.87692],
          [30.95866,-17.87706],
          [30.95816,-17.87724],
          [30.95697,-17.87766],
          [30.95683,-17.87771],
          [30.95672,-17.87774],
          [30.95651,-17.87782],
          [30.95638,-17.87788],
          [30.95626,-17.87795],
          [30.95619,-17.87799],
          [30.95615,-17.87801],
          [30.95607,-17.87807],
          [30.95606,-17.87809],
          [30.95605,-17.8781],
          [30.95605,-17.87811],
          [30.95603,-17.87812],
          [30.95602,-17.87813],
          [30.956,-17.87814],
          [30.95598,-17.87815],
          [30.95596,-17.87816],
          [30.95594,-17.87817],
          [30.95592,-17.87818],
          [30.9559,-17.87818],
          [30.95588,-17.87818],
          [30.95586,-17.87818],
          [30.95584,-17.87818],
          [30.95582,-17.87818],
          [30.9558,-17.87817],
          [30.95578,-17.87816],
          [30.95576,-17.87815],
          [30.95575,-17.87815],
          [30.95558,-17.87814],
          [30.95546,-17.87814],
          [30.95516,-17.87825],
          [30.95508,-17.87828],
          [30.9549,-17.87835],
          [30.95489,-17.87835],
          [30.95491,-17.87879],
          [30.95512,-17.87924],
          [30.95527,-17.87934],
          [30.95538,-17.8793],
          [30.95594,-17.87907],
          [30.95599,-17.87905],
          [30.95602,-17.87903],
          [30.95604,-17.87903],
          [30.95607,-17.87903],
          [30.9561,-17.87903],
          [30.95614,-17.87905],
          [30.95618,-17.87908],
          [30.95626,-17.87911],
          [30.95622,-17.87901],
          [30.9561,-17.8787],
          [30.95602,-17.87864]
                      
                      
                    ]
                }
            }
        ]
    };

    const map = new mapboxgl.Map({
        container: 'map',
        // Choose from Mapbox's core styles, or make your own style with Mapbox Studio
        style: 'mapbox://styles/mapbox/light-v11',
        center: [31.04134651060202, -17.83493680198602],
        zoom: 12
    });

    map.on('load', () => {
        map.addSource('LineString', {
            'type': 'geojson',
            'data': geojson
        });
        map.addLayer({
            'id': 'LineString',
            'type': 'line',
            'source': 'LineString',
            'layout': {
                'line-join': 'round',
                'line-cap': 'round'
            },
            'paint': {
                'line-color': '#BF93E4',
                'line-width': 5
            }
        });

        document.getElementById('zoomto').addEventListener('click', () => {
            // Geographic coordinates of the LineString
            const coordinates = geojson.features[0].geometry.coordinates;

            // Create a 'LngLatBounds' with both corners at the first coordinate.
            const bounds = new mapboxgl.LngLatBounds(
                coordinates[0],
                coordinates[0]
            );

            // Extend the 'LngLatBounds' to include every coordinate in the bounds result.
            for (const coord of coordinates) {
                bounds.extend(coord);
            }

            map.fitBounds(bounds, {
                padding: 20
            });
        });
    });
///////////////////////////////////////////////////////////////////

    const geojson2 = {
        'type': 'FeatureCollection',
        'features': [
            {
                'type': 'Feature',
                'properties': {
                    'message': 'Foo',
                    'iconSize': [60, 60]
                },
                'geometry': {
                    'type': 'Point',
                    'coordinates':     [31.0219,-17.85986]
                }
            }
        ]
    };

    for (const marker of geojson2.features) {
        // Create a DOM element for each marker.
        const ell = document.createElement('div');
        const width = marker.properties.iconSize[0];
        const height = marker.properties.iconSize[1];
        ell.className = 'marker';
        ell.style.backgroundImage = `url(bus.jpg)`;
        ell.style.width = `${width}px`;
        ell.style.height = `${height}px`;
        ell.style.backgroundSize = '100%';


        ell.addEventListener('click', () => {
           //window.location.href = 'https://www.mapbox.com/';
          // window(marker.properties.href);
           ell.setHTML('<a href = "newnav.php"> donedeal </a>');
        });

        // Add markers to the map.
        new mapboxgl.Marker(ell)
            .setLngLat(marker.geometry.coordinates)
            .addTo(map);
    }
</script>

</body>
</html>